$(document).ready(function(){$(".modal").modal(),$(".collapsible").collapsible(),Materialize.updateTextFields()}),Vue.component("app-nav",{props:{logo:{type:String},nav:{type:Array}}}),Vue.component("topic-card",{props:{topic:{type:Object},index:{type:Number}},template:"#topic-card",methods:{update:function(e){this.$emit("input",e)}}}),Vue.component("language-tab",{props:{languages:{type:Array},topic:{type:String},index:{type:Number}},template:"#language-tab",methods:{update:function(e){this.$emit("input",e)}}}),Vue.component("list",{props:["text"],template:'<div class="row valign-wrapper"><div class="col s6 item">{{ text }}</div><div class="col s6 item"><button class="btn-floating" v-on:click="$emit(\'remove\')"><i class="material-icons">clear</i></button></div></div>'});var app=new Vue({el:"#app",data:{config:{ser:{protocol:"http://",host:"127.0.0.1",port:1337},codes:{success:1,db:2,ser:3,null:4}},logo:"Learning",nav:[{text:"Add Language",class:"modal-trigger",href:"#addLanguage"},{text:"Add Framework",class:"modal-trigger",href:"#addFrame"},{text:"Add Topic",class:"modal-trigger",href:"#addTopic"}],languages:[],adding:{lang:{name:null,desc:null,topic:null,framework:null,preprocessor:"",preprocessors:[],preActive:!1},topic:{name:null,desc:null}},frameworks:[],topics:[]},created:function(){this.getTopics(),this.getFrameworks(),this.getLanguages()},methods:{getTopics:function(){this.$http.get(this.createUrl("Topics")).then(e=>{this.errorCheck(e)?this.topics=e.body:console.log("data error : "+e)},e=>{}).bind(this)},getFrameworks:function(){this.$http.get(this.createUrl("Frameworks")).then(e=>{this.errorCheck(e)?this.frameworks=e.body:console.log("data error : "+e)},e=>{}).bind(this)},getLanguages:function(){this.$http.get(this.createUrl("Languages")).then(e=>{this.errorCheck(e)?this.languages=e.body:console.log("data error : "+e)},e=>{}).bind(this)},addLanguage:function(e){if(null==this.adding.lang.name||null==this.adding.lang.name)return!1;var t=this.adding.lang;this.$http.post(this.createUrl("addLanguage"),t).then(e=>{console.log(e),this.errorCheck(e.body)?this.languages.push(this.adding.lang):console.log("data error : "+e)},e=>{}).bind(this)},addTopic:function(e){if(null==this.adding.topic.name||null==this.adding.topic.name)return!1;var t=this.adding.topic;this.$http.post(this.createUrl("addTopic"),t).then(e=>{console.log(e),this.errorCheck(e.body)?this.topics.push(this.adding.topic):console.log("data error : "+e)},e=>{}).bind(this)},errorCheck:function(e){switch(e){case this.config.codes.success:return!0;case this.config.codes.db:case this.config.codes.ser:case this.config.codes.null:return!1;default:return!0}},createUrl:function(e){return this.config.ser.protocol+this.config.ser.host+":"+this.config.ser.port+"/"+e},addToPreProcessors:function(){console.log(this.adding.lang.preprocessor);var e={};e.name=this.adding.lang.preprocessor,""!=e.name&&(this.adding.lang.preprocessors.push(e),this.adding.lang.preprocessor="")},togglePre:function(){this.adding.lang.preActive=!this.adding.lang.preActive,this.adding.lang.preActive||(this.adding.lang.preprocessors=[])}}});